"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[828],{828:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(861),a=n(439),u=n(757),s=n.n(u),i=n(388),c=n(184),o=n(791).useState,l=function(e){var t=e.onSubmit,n=o(""),r=(0,a.Z)(n,2),u=r[0],s=r[1];return(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(e.target.elements.query.value),s("")},children:[(0,c.jsx)("input",{type:"text",name:"query",value:u,onChange:function(e){s(e.target.value)}}),(0,c.jsx)("button",{children:"Search"})]})},f=n(791),h=n(87),p=n(689),d=function(){var e,t=(0,f.useState)(null),n=(0,a.Z)(t,2),u=n[0],o=n[1],d=(0,f.useState)([]),m=(0,a.Z)(d,2),v=m[0],b=m[1],x=(0,f.useState)(!1),g=(0,a.Z)(x,2),j=g[0],k=g[1],y=(0,h.lr)(),w=(0,a.Z)(y,2),S=w[0],Z=w[1],_=null!==(e=S.get("query"))&&void 0!==e?e:"",q=(0,p.TH)();(0,f.useEffect)((function(){var e=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,i.Z.get("https://api.themoviedb.org/3/search/movie?api_key=8510e0ad31b6bb4a75e3ab4ea305febb&query=".concat(_));case 4:(t=e.sent).data.total_results>0&&b(t.data.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o("Oops, something went wrong. please try again later");case 11:return e.prev=11,k(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();""!==_&&e()}),[_]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l,{onSubmit:function(e){Z({query:e})}}),j&&(0,c.jsx)("p",{children:"Loading..."}),null!==u&&(0,c.jsx)("p",{children:u}),v.length>0&&(0,c.jsx)("ul",{children:v.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(h.rU,{to:"/movies/".concat(e.id),state:{from:q},children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=828.f12cc583.chunk.js.map